<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Nh·∫≠t k√Ω chuy·∫øn tham quan ƒê√† L·∫°t c·ªßa l·ªõp 11L - K·ª∑ ni·ªám ƒë√°ng nh·ªõ">
<title>Nh·∫≠t K√Ω ƒê√† L·∫°t ¬∑ L·ªõp 11L</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;0,800;1,400&family=Lora:ital,wght@0,400;0,500;0,600;1,400;1,500&family=Dancing+Script:wght@400;600;700&display=swap" rel="stylesheet">
<style>
/* ‚îÄ‚îÄ‚îÄ DESIGN TOKENS ‚îÄ‚îÄ‚îÄ */
:root {
  --g9:#162c1e; --g8:#1c3826; --g7:#24482e; --g6:#305c3a;
  --g5:#3e7249; --g4:#568c62; --g3:#7aaa88; --g2:#aeceba;
  --forest-dark:#1e4430; --forest-green:#1a3c28;
  --cream:#f9f7f0; --ink:#2c3e2c; --gold:#c9a961; --beige:#d4b896;
  --ease-spring: cubic-bezier(.34,1.56,.64,1);
  --ease-out-expo: cubic-bezier(.16,1,.3,1);
  --ease-in-out-soft: cubic-bezier(.45,0,.55,1);
}

*,*::before,*::after { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior:smooth; overflow-x:hidden; }

/* ‚îÄ‚îÄ‚îÄ BODY ‚îÄ‚îÄ‚îÄ */
body {
  font-family:'Lora',serif;
  background:
    radial-gradient(ellipse at 50% 0%,   rgba(62,114,73,.14), transparent 55%),
    radial-gradient(ellipse at 90% 60%,  rgba(30,68,48,.09),  transparent 45%),
    radial-gradient(ellipse at 10% 90%,  rgba(45,90,64,.11),  transparent 50%),
    linear-gradient(180deg,#e8f4ed,#d4e8dc 30%,#c5ddd0 60%,#ddeee5);
  min-height:100vh;
  display:flex; flex-direction:column; align-items:center;
  padding:40px 20px;
  overflow-x:hidden;
}

/* Subtle paper grain ‚Äî GPU-composited via opacity only */
body::before {
  content:''; position:fixed; inset:0; pointer-events:none; z-index:0;
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
  opacity:.6;
}

/* ‚îÄ‚îÄ‚îÄ CURSOR TRAIL ‚îÄ‚îÄ‚îÄ */
.cursor-trail {
  position:fixed; width:6px; height:6px; border-radius:50%;
  background:radial-gradient(circle,rgba(62,114,73,.7),rgba(122,170,136,.3));
  pointer-events:none; z-index:9999;
  will-change:transform,opacity;
  animation:trailFade .6s var(--ease-out-expo) forwards;
}
@keyframes trailFade { to { opacity:0; transform:scale(.2); } }

/* ‚îÄ‚îÄ‚îÄ PROGRESS BAR ‚îÄ‚îÄ‚îÄ */
.progress-bar-container {
  position:fixed; top:0; left:0; right:0; height:3px;
  background:rgba(30,68,48,.08); z-index:10000;
  opacity:0; transition:opacity .2s;
}
.progress-bar-container.active { opacity:1; }
.progress-bar {
  height:100%;
  background:linear-gradient(90deg,#2d5a40,#568c62,#7aaa88);
  width:0%; transition:width .35s var(--ease-out-expo);
  box-shadow:0 0 12px rgba(62,114,73,.7);
}

/* ‚îÄ‚îÄ‚îÄ NAV CHROME ‚îÄ‚îÄ‚îÄ */
.breadcrumb {
  position:fixed; top:18px; left:50%; transform:translateX(-50%);
  background:rgba(255,255,255,.88); backdrop-filter:blur(14px) saturate(1.4);
  padding:6px 20px; border-radius:30px;
  border:1.5px solid rgba(62,114,73,.22);
  font-family:'Playfair Display',serif; font-size:.78rem;
  color:var(--forest-dark); z-index:9998; opacity:0; pointer-events:none;
  transition:opacity .3s, transform .3s var(--ease-out-expo);
  box-shadow:0 4px 20px rgba(30,68,48,.12);
  white-space:nowrap; max-width:calc(100vw - 180px);
  overflow:hidden; text-overflow:ellipsis;
}
.breadcrumb.visible { opacity:1; pointer-events:auto; }

.home-btn {
  position:fixed; top:18px; left:18px;
  display:flex; align-items:center; gap:6px;
  padding:7px 14px;
  background:rgba(255,255,255,.9); backdrop-filter:blur(14px) saturate(1.4);
  border:1.5px solid rgba(62,114,73,.28); border-radius:30px;
  font-family:'Playfair Display',serif; font-size:.8rem;
  color:var(--forest-dark); cursor:pointer; z-index:9999;
  text-decoration:none;
  box-shadow:0 4px 16px rgba(30,68,48,.12);
  transition:background .2s, border-color .2s, transform .25s var(--ease-spring), box-shadow .25s;
  will-change:transform;
}
.home-btn:hover {
  background:rgba(62,114,73,.12); border-color:rgba(62,114,73,.55);
  transform:translateY(-2px); box-shadow:0 8px 22px rgba(30,68,48,.18);
}

.sr-announce { position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden; clip:rect(0,0,0,0); }

/* ‚îÄ‚îÄ‚îÄ BOOK CONTAINER ‚îÄ‚îÄ‚îÄ */
.book-container {
  position:relative; max-width:1100px; width:100%;
  perspective:2000px; z-index:10;
  animation:containerIn .9s var(--ease-out-expo) both;
}
@keyframes containerIn {
  from { opacity:0; transform:translateY(50px) scale(.96); }
  to   { opacity:1; transform:translateY(0)    scale(1); }
}

/* ‚îÄ‚îÄ‚îÄ BOOK COVER ‚îÄ‚îÄ‚îÄ */
.book-cover {
  position:relative;
  background:
    repeating-linear-gradient(45deg,rgba(30,68,48,.06),rgba(30,68,48,.06) 2px,transparent 2px,transparent 5px),
    linear-gradient(135deg,#1e4430,#1a3c28 30%,#204e34 60%,#112218);
  border-radius:8px;
  padding:60px 55px;
  box-shadow:0 28px 70px rgba(0,0,0,.55),inset 0 0 120px rgba(0,0,0,.35),inset 2px 2px 6px rgba(255,255,255,.08);
  border:7px ridge rgba(30,68,48,.45);
  margin-bottom:40px;
  transform-style:preserve-3d;
  animation:coverIn 1.2s var(--ease-out-expo) both;
  overflow:visible;
  transition:box-shadow .4s;
}
.book-cover:hover {
  box-shadow:0 36px 90px rgba(0,0,0,.62),inset 0 0 140px rgba(0,0,0,.4),inset 2px 2px 8px rgba(255,255,255,.12);
}
@keyframes coverIn {
  0%   { opacity:0; transform:rotateX(-35deg) translateY(-100px) scale(.85); }
  65%  { transform:rotateX(8deg)  translateY(14px)    scale(1.03); }
  100% { opacity:1; transform:rotateX(0)      translateY(0)      scale(1); }
}
.book-cover::before {
  content:''; position:absolute; left:-14px; top:5%; bottom:5%; width:22px;
  background:linear-gradient(90deg,rgba(0,0,0,.55),rgba(30,68,48,.35) 40%,transparent);
  border-radius:4px 0 0 4px; box-shadow:inset 2px 0 5px rgba(0,0,0,.45);
}
.book-cover::after {
  content:''; position:absolute; inset:20px;
  border:2.5px double rgba(201,169,97,.55); border-radius:4px; opacity:.82;
  box-shadow:inset 0 0 45px rgba(201,169,97,.18),0 0 28px rgba(201,169,97,.25);
  animation:embossGlow 5s var(--ease-in-out-soft) infinite; pointer-events:none;
}
@keyframes embossGlow {
  0%,100% { opacity:.82; }
  50%      { opacity:1; box-shadow:inset 0 0 60px rgba(201,169,97,.28),0 0 40px rgba(201,169,97,.45); }
}

/* Fireflies */
.ff-wrap { position:absolute; inset:0; pointer-events:none; z-index:1; overflow:hidden; }
.ff {
  position:absolute; border-radius:50%; pointer-events:none;
  animation:ffRise var(--dur) var(--del) ease-in-out infinite;
  opacity:0; will-change:transform,opacity;
}
@keyframes ffRise {
  0%   { opacity:0; transform:translateY(0)     translateX(0)              scale(1); }
  20%  { opacity:.8; }
  80%  { opacity:.35; }
  100% { opacity:0; transform:translateY(-110px) translateX(var(--dx)) scale(.25); }
}

/* Bookmark */
.bookmark {
  position:absolute; top:0; right:11%; width:48px; height:150px;
  background:linear-gradient(135deg,#2d5a40,#3e7249);
  clip-path:polygon(0 0,100% 0,100% 75%,50% 100%,0 75%);
  box-shadow:0 10px 30px rgba(30,68,48,.55);
  z-index:3; animation:bookmarkSway 7s ease-in-out infinite;
  will-change:transform;
}
.bookmark::before { content:'üåø'; position:absolute; top:14px; left:50%; transform:translateX(-50%); font-size:1.5rem; animation:leafSpin 10s linear infinite; }
@keyframes bookmarkSway { 0%,100% { transform:rotate(0); } 50% { transform:rotate(3.5deg); } }
@keyframes leafSpin { to { transform:translateX(-50%) rotate(360deg); } }

/* Cover content */
.cover-content { position:relative; z-index:2; text-align:center; color:var(--cream); }

.cover-badge {
  display:inline-flex; align-items:center; gap:8px;
  background:rgba(62,114,73,.14); border:1px solid rgba(62,114,73,.32);
  color:var(--g2); padding:7px 24px; border-radius:50px;
  font-size:.8rem; font-family:'Playfair Display',serif; letter-spacing:.18em;
  margin-bottom:20px;
  animation:fadeUp .6s var(--ease-out-expo) .1s both;
}

.cover-icon {
  font-size:6.5rem; margin-bottom:22px; display:inline-block;
  animation:iconFloat 5s ease-in-out infinite, fadeUp .7s var(--ease-out-expo) .25s both;
  filter:drop-shadow(0 14px 36px rgba(62,114,73,.75)) drop-shadow(0 0 55px rgba(201,169,97,.55));
  will-change:transform;
}
@keyframes iconFloat { 0%,100% { transform:translateY(0) scale(1); } 50% { transform:translateY(-16px) scale(1.1); } }

.cover-title {
  font-family:'Playfair Display',serif; font-size:4.8rem; font-weight:800;
  margin-bottom:18px; letter-spacing:.07em;
  text-shadow:0 0 28px rgba(62,114,73,.9),0 6px 18px rgba(0,0,0,.75),0 0 70px rgba(201,169,97,.45);
  animation:fadeUp .7s var(--ease-out-expo) .42s both;
}

.cover-subtitle {
  font-family:'Dancing Script',cursive; font-size:2rem;
  margin-bottom:32px; opacity:.95;
  text-shadow:0 3px 12px rgba(0,0,0,.65);
  animation:fadeUp .7s var(--ease-out-expo) .56s both;
}

.cover-quote {
  font-size:1.05rem; line-height:1.9; max-width:620px; margin:0 auto 40px;
  opacity:.9; font-style:italic;
  text-shadow:0 2px 8px rgba(0,0,0,.45);
  animation:fadeUp .7s var(--ease-out-expo) .68s both;
}

.open-book-btn {
  display:inline-block; padding:14px 44px;
  background:linear-gradient(135deg,#2d5a40,#3e7249);
  color:#fff; text-decoration:none; font-weight:700; font-size:1rem;
  border-radius:50px;
  box-shadow:0 10px 32px rgba(30,68,48,.55),inset 0 2px 0 rgba(255,255,255,.4);
  transition:transform .3s var(--ease-spring), box-shadow .3s, letter-spacing .3s;
  animation:fadeUp .7s var(--ease-out-expo) .82s both, btnPulse 3s ease-in-out infinite;
  font-family:'Playfair Display',serif; letter-spacing:.05em;
  border:2.5px solid rgba(201,169,97,.45);
  position:relative; overflow:hidden; cursor:pointer;
  will-change:transform;
}
.open-book-btn:hover {
  transform:translateY(-5px) scale(1.06);
  letter-spacing:.08em;
  box-shadow:0 18px 52px rgba(30,68,48,.75),0 0 36px rgba(201,169,97,.6),inset 0 2px 0 rgba(255,255,255,.6);
  border-color:rgba(201,169,97,.9);
}
.open-book-btn:active { transform:translateY(-2px) scale(1.02); }
.open-book-btn:focus { outline:3px solid rgba(201,169,97,.8); outline-offset:4px; }
/* Ripple on hover */
.open-book-btn::after {
  content:''; position:absolute; inset:0;
  background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.22) 50%,transparent 100%);
  transform:translateX(-100%); transition:transform .5s var(--ease-out-expo);
}
.open-book-btn:hover::after { transform:translateX(100%); }
@keyframes btnPulse {
  0%,100% { box-shadow:0 10px 32px rgba(30,68,48,.55),inset 0 2px 0 rgba(255,255,255,.4); }
  50%      { box-shadow:0 12px 42px rgba(30,68,48,.72),0 0 30px rgba(62,114,73,.45),inset 0 2px 0 rgba(255,255,255,.5); }
}
.open-book-btn span { position:relative; z-index:1; }

@keyframes fadeUp {
  from { opacity:0; transform:translateY(24px); }
  to   { opacity:1; transform:translateY(0); }
}

/* ‚îÄ‚îÄ‚îÄ BOOK PAGES ‚îÄ‚îÄ‚îÄ */
.book-pages {
  background:linear-gradient(135deg,#f9f7f0,#f5f2ea 50%,#ede8dc);
  border-radius:10px;
  box-shadow:0 22px 60px rgba(30,68,48,.3),inset 0 0 100px rgba(249,247,240,.5);
  overflow:hidden;
}

/* ‚îÄ‚îÄ‚îÄ PAGE SELECTOR ‚îÄ‚îÄ‚îÄ */
.page-selector {
  display:flex; align-items:center; justify-content:center;
  gap:8px; padding:11px 14px;
  background:rgba(249,247,240,.92); backdrop-filter:blur(10px);
  border-bottom:1.5px solid rgba(62,114,73,.1);
  flex-wrap:wrap; position:sticky; top:0; z-index:50;
}
.page-select-btn {
  display:flex; flex-direction:column; align-items:center; gap:3px;
  padding:7px 13px;
  background:rgba(255,255,255,.65); border:1.5px solid rgba(62,114,73,.18);
  border-radius:10px;
  font-family:'Playfair Display',serif; font-size:.76rem;
  color:var(--forest-dark); cursor:pointer;
  transition:background .2s, border-color .2s, transform .25s var(--ease-spring), box-shadow .25s;
  min-width:86px; text-align:center; line-height:1.3;
  will-change:transform;
}
.page-select-btn:hover {
  background:rgba(62,114,73,.1); border-color:rgba(62,114,73,.45);
  transform:translateY(-2px); box-shadow:0 4px 12px rgba(30,68,48,.1);
}
.page-select-btn.active {
  background:linear-gradient(135deg,#2d5a40,#3e7249);
  color:#fff; border-color:transparent;
  box-shadow:0 5px 16px rgba(30,68,48,.28); transform:translateY(-2px);
}
.page-select-btn .ps-num { font-size:1rem; font-weight:700; }
.page-select-btn .ps-icon { font-size:.95rem; }
.page-select-btn .ps-title { font-size:.66rem; opacity:.85; max-width:80px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.page-select-btn.active .ps-title { opacity:1; }
.selector-divider { color:rgba(62,114,73,.25); font-size:.9rem; }

/* ‚îÄ‚îÄ‚îÄ PAGE ‚îÄ‚îÄ‚îÄ */
.page {
  background:
    repeating-linear-gradient(0deg,transparent,transparent 27px,rgba(201,169,97,.055) 27px,rgba(201,169,97,.055) 28px),
    linear-gradient(135deg,#f9f7f0,#f5ebe0 50%,#ede8dc);
  padding:65px 85px 95px;
  min-height:580px; position:relative;
  border-left:55px solid rgba(30,68,48,.07);
  /* removed heavy box-shadow from page ‚Äî causes jank */
}
/* Aged spot overlay ‚Äî opacity only animation = GPU-safe */
.page::before {
  content:''; position:absolute; inset:0; pointer-events:none;
  background-image:
    radial-gradient(ellipse at 12% 18%,rgba(62,114,73,.07),transparent 32%),
    radial-gradient(ellipse at 88% 82%,rgba(30,68,48,.055),transparent 38%),
    radial-gradient(circle at 50% 8%,rgba(201,169,97,.07),transparent 28%);
  animation:agingSpots 18s ease-in-out infinite;
}
@keyframes agingSpots { 0%,100% { opacity:.65; } 50% { opacity:.9; } }
/* Spine holes */
.page::after {
  content:''; position:absolute; left:22px; top:50%; transform:translateY(-50%);
  width:9px; height:85%;
  background:radial-gradient(circle,rgba(30,68,48,.22) 40%,transparent 45%),
             radial-gradient(circle,rgba(30,68,48,.22) 40%,transparent 45%),
             radial-gradient(circle,rgba(30,68,48,.22) 40%,transparent 45%);
  background-size:9px 9px; background-position:0 0,0 50%,0 100%;
  background-repeat:no-repeat;
}

/* Leaf particles ‚Äî fewer, will-change only on animation */
.leaf-layer { position:absolute; inset:0; pointer-events:none; overflow:hidden; z-index:1; }
.lf {
  position:absolute; pointer-events:none;
  font-size:var(--lsz);
  animation:lfDrift var(--ldur) var(--ldel) ease-in-out infinite;
  opacity:0; will-change:transform,opacity;
}
@keyframes lfDrift {
  0%   { opacity:0; transform:translateY(14px) translateX(0) rotate(0deg) scale(1); }
  18%  { opacity:.5; }
  82%  { opacity:.22; }
  100% { opacity:0; transform:translateY(-130px) translateX(var(--lx)) rotate(180deg) scale(.28); }
}

.page-content { position:relative; z-index:2; }

.page-number {
  position:absolute; bottom:26px; right:40px;
  font-family:'Dancing Script',cursive; font-size:1.3rem;
  color:var(--g5);
  background:rgba(249,247,240,.65);
  padding:5px 14px; border-radius:50px;
  border:1.5px solid rgba(62,114,73,.22);
  box-shadow:0 3px 10px rgba(30,68,48,.12);
  z-index:100;
}

/* ‚îÄ‚îÄ‚îÄ SECTION TITLE ‚îÄ‚îÄ‚îÄ */
.section-title {
  font-family:'Playfair Display',serif; font-size:3.2rem; font-weight:700;
  text-align:center; margin-bottom:32px;
  position:relative; display:inline-block; width:100%;
  animation:titleIn .8s var(--ease-out-expo) both;
}
@keyframes titleIn {
  from { opacity:0; transform:translateX(-60px); }
  to   { opacity:1; transform:translateX(0); }
}
.section-title .title-text {
  background:linear-gradient(118deg,var(--g7),var(--g5) 50%,var(--forest-dark));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
}
.section-title .title-icon { display:inline-block; margin-right:8px; }
.section-title::after {
  content:''; position:absolute; bottom:-12px; left:50%; transform:translateX(-50%);
  width:0; height:3px;
  background:linear-gradient(90deg,transparent,#2d5a40 20%,#568c62 60%,transparent);
  animation:lineDraw 1.6s var(--ease-out-expo) .3s forwards;
  box-shadow:0 2px 14px rgba(30,68,48,.35); border-radius:2px;
}
@keyframes lineDraw { to { width:220px; opacity:1; } }

.section-intro {
  text-align:center; max-width:800px; margin:0 auto 44px;
  font-size:1.22rem; line-height:1.95; color:var(--forest-green);
  font-style:italic; font-family:'Lora',serif;
  animation:fadeUp .7s var(--ease-out-expo) .4s both;
}

/* ‚îÄ‚îÄ‚îÄ STORY CARDS ‚îÄ‚îÄ‚îÄ */
.story-grid { display:grid; gap:32px; margin-top:44px; }
.story-card {
  display:grid; grid-template-columns:1fr 1fr; gap:36px; align-items:center;
  padding:28px;
  background:linear-gradient(135deg,rgba(249,247,240,.85),rgba(255,254,249,.65));
  border-radius:12px;
  border:1.5px solid rgba(30,68,48,.22);
  box-shadow:0 5px 20px rgba(30,68,48,.08);
  /* Transform only ‚Äî cheaper than repaints */
  transition:transform .35s var(--ease-spring), box-shadow .35s, border-color .25s;
  will-change:transform;
  position:relative; overflow:hidden;
}
/* Shimmer sweep instead of radial-gradient mouse-tracking */
.story-card::after {
  content:''; position:absolute; inset:0;
  background:linear-gradient(105deg,transparent 30%,rgba(122,170,136,.07) 50%,transparent 70%);
  transform:translateX(-100%); opacity:0;
  transition:transform .6s var(--ease-out-expo), opacity .3s;
  pointer-events:none;
}
.story-card:hover::after { transform:translateX(100%); opacity:1; }
.story-card:nth-child(even) .story-image { order:2; }
.story-card:nth-child(even) .story-text  { order:1; }
.story-card:hover {
  transform:translateY(-7px) scale(1.013);
  box-shadow:0 18px 50px rgba(30,68,48,.15),0 6px 18px rgba(62,114,73,.1);
  border-color:rgba(62,114,73,.42);
}

.story-image {
  position:relative; border-radius:7px; overflow:hidden; aspect-ratio:4/3;
  box-shadow:0 5px 20px rgba(30,68,48,.18),
             inset 0 0 0 6px rgba(250,246,240,.85),
             inset 0 0 0 8px rgba(30,68,48,.22);
  border:2.5px solid var(--beige);
  transition:box-shadow .35s;
}
.story-card:hover .story-image {
  box-shadow:0 9px 30px rgba(30,68,48,.26),
             inset 0 0 0 6px rgba(250,246,240,.95),
             inset 0 0 0 8px rgba(62,114,73,.35);
}
.story-image .stamp {
  position:absolute; top:18px; right:18px;
  width:52px; height:52px;
  background:linear-gradient(142deg,#d44e36,#b83d2d);
  border:2.5px dashed rgba(255,255,255,.7); border-radius:6px;
  display:flex; align-items:center; justify-content:center;
  font-size:1.6rem; transform:rotate(18deg);
  box-shadow:0 4px 10px rgba(196,69,54,.45); z-index:5;
  transition:transform .35s var(--ease-spring);
}
.story-card:nth-child(2) .stamp {
  background:linear-gradient(142deg,#2d5a40,#3e7249);
  top:auto; bottom:18px; left:18px; right:auto; transform:rotate(-15deg);
}
.story-card:hover .stamp { transform:rotate(22deg) scale(1.1); }
.story-card:nth-child(2):hover .stamp { transform:rotate(-18deg) scale(1.1); }

/* Images ‚Äî shimmer skeleton while loading */
.story-image img, .ci img, .pola img, .pola img {
  width:100%; height:100%; object-fit:cover;
  transition:transform .55s var(--ease-out-expo), filter .55s;
  filter:sepia(.04) contrast(1.04);
  cursor:pointer;
  background:linear-gradient(110deg,#e8dcc8 25%,#f0e8d8 50%,#e8dcc8 75%);
  background-size:200% 100%;
  animation:shimmer 1.4s ease-in-out infinite;
}
.story-image img.loaded, .ci img.loaded, .pola img.loaded {
  animation:none; background:none;
}
@keyframes shimmer { 0% { background-position:200% 0; } 100% { background-position:-200% 0; } }
.story-card:hover .story-image img { transform:scale(1.07) rotate(-.4deg); filter:sepia(.1) contrast(1.08) brightness(1.03); }
.story-text { font-size:1.22rem; line-height:1.95; color:var(--ink); font-family:'Lora',serif; }
.story-text p { margin-bottom:12px; transition:transform .3s var(--ease-out-expo); }
.story-card:hover .story-text p { transform:translateX(4px); }
.story-text p:last-child { margin-bottom:0; }

/* ‚îÄ‚îÄ‚îÄ POLAROID PHOTOS ‚îÄ‚îÄ‚îÄ */
.photo-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:36px; margin:46px 0; }
.polaroid {
  background:#fff; padding:14px 14px 56px;
  box-shadow:0 8px 26px rgba(30,68,48,.24);
  transform:rotate(-3deg);
  transition:transform .4s var(--ease-spring), box-shadow .4s;
  cursor:pointer;
  position:relative;
  will-change:transform;
}
.polaroid:nth-child(even) { transform:rotate(3deg); }
.polaroid:hover { transform:rotate(0) scale(1.07) translateY(-14px) !important; box-shadow:0 24px 55px rgba(30,68,48,.38); z-index:10; }
.polaroid img { width:100%; height:230px; object-fit:cover; display:block; filter:sepia(.04) contrast(1.04); transition:filter .4s; cursor:pointer; }
.polaroid:hover img { filter:sepia(.1) contrast(1.08); }
.polaroid-caption {
  margin-top:13px; text-align:center; font-family:'Dancing Script',cursive;
  font-size:1.1rem; color:var(--forest-green);
  position:absolute; bottom:13px; left:0; right:0; font-weight:600;
}
.polaroid::before {
  content:''; position:absolute; top:-9px; left:50%; transform:translateX(-50%);
  width:75px; height:22px;
  background:repeating-linear-gradient(45deg,rgba(30,68,48,.45),rgba(30,68,48,.45) 4px,rgba(255,255,255,.35) 4px,rgba(255,255,255,.35) 8px);
  border:1px solid rgba(30,68,48,.18); box-shadow:0 2px 5px rgba(0,0,0,.1); opacity:.75;
}
.img-text-overlay {
  position:absolute; top:0; left:0; right:0; bottom:56px;
  background:linear-gradient(to bottom,rgba(30,68,48,.86),rgba(30,68,48,.72));
  opacity:0; display:flex; align-items:center; justify-content:center; padding:16px;
  transition:opacity .35s; pointer-events:none;
}
.polaroid:hover .img-text-overlay { opacity:1; }
.img-text-content {
  color:#fff; text-align:center; font-family:'Lora',serif; font-size:.95rem;
  line-height:1.65; font-style:italic;
  transform:translateY(16px); transition:transform .4s var(--ease-out-expo);
  text-shadow:0 2px 6px rgba(0,0,0,.25);
}
.polaroid:hover .img-text-content { transform:translateY(0); }

/* ‚îÄ‚îÄ‚îÄ JOURNEY TABS ‚îÄ‚îÄ‚îÄ */
.journey-tabs { display:flex; gap:10px; justify-content:center; margin-bottom:24px; flex-wrap:wrap; }
.journey-tab {
  padding:11px 30px;
  background:rgba(255,255,255,.62); color:var(--ink);
  border:1.5px solid rgba(62,114,73,.22); border-radius:50px;
  font-family:'Playfair Display',serif; font-weight:600; font-size:.98rem;
  cursor:pointer; position:relative; overflow:hidden;
  transition:transform .28s var(--ease-spring), background .22s, border-color .22s, box-shadow .28s;
  will-change:transform;
}
.journey-tab:focus { outline:3px solid rgba(62,114,73,.55); outline-offset:2px; }
.journey-tab::after {
  content:''; position:absolute; inset:0;
  background:linear-gradient(90deg,transparent,rgba(122,170,136,.18),transparent);
  transform:translateX(-100%); transition:transform .45s var(--ease-out-expo);
  pointer-events:none;
}
.journey-tab:hover::after { transform:translateX(100%); }
.journey-tab:hover { border-color:var(--g5); transform:translateY(-3px) scale(1.03); box-shadow:0 5px 14px rgba(14,30,20,.09); }
.journey-tab.active {
  background:linear-gradient(130deg,var(--g7),var(--g5)); color:#fff; border-color:transparent;
  box-shadow:0 8px 24px rgba(30,68,48,.32);
}
.day-content { display:none; }
.day-content.active { display:block; animation:dayIn .5s var(--ease-out-expo); }
@keyframes dayIn { from { opacity:0; transform:translateY(18px); } to { opacity:1; transform:translateY(0); } }

/* ‚îÄ‚îÄ‚îÄ ALBUM ‚îÄ‚îÄ‚îÄ */
.awrap { position:relative; margin-bottom:22px; }
.awrap::before,.awrap::after {
  content:''; position:absolute; top:0; bottom:34px; width:44px; z-index:20; pointer-events:none;
}
.awrap::before { left:44px; background:linear-gradient(to right,rgba(249,247,240,.9),transparent); }
.awrap::after  { right:44px; background:linear-gradient(to left,rgba(249,247,240,.9),transparent); }

.atrack {
  display:flex; gap:20px; overflow-x:auto;
  padding:18px 52px 30px;
  scroll-snap-type:x mandatory; scrollbar-width:thin;
  scrollbar-color:rgba(62,114,73,.3) transparent;
  cursor:grab; scroll-behavior:smooth; -webkit-overflow-scrolling:touch;
}
.atrack:active { cursor:grabbing; }
.atrack::-webkit-scrollbar { height:4px; }
.atrack::-webkit-scrollbar-thumb { background:rgba(62,114,73,.3); border-radius:2px; }

.scroll-hint {
  text-align:center; font-family:'Dancing Script',cursive;
  font-size:.82rem; color:rgba(62,114,73,.5);
  margin-top:-18px; margin-bottom:8px; letter-spacing:.05em;
  animation:hintPulse 2.8s ease-in-out infinite;
}
@keyframes hintPulse { 0%,100% { opacity:.4; } 50% { opacity:.8; } }

.aarr {
  position:absolute; top:50%; transform:translateY(-55%);
  width:42px; height:42px;
  background:rgba(255,255,255,.95); border:1.5px solid rgba(62,114,73,.35);
  border-radius:50%; display:flex; align-items:center; justify-content:center;
  font-size:1.2rem; color:var(--g7); cursor:pointer;
  z-index:30; box-shadow:0 3px 12px rgba(14,30,20,.14);
  transition:transform .25s var(--ease-spring), background .2s, border-color .2s;
  will-change:transform;
}
.aarr:hover { background:rgba(62,114,73,.15); border-color:rgba(62,114,73,.65); transform:translateY(-55%) scale(1.13); }
.aarr.ap { left:4px; } .aarr.an { right:4px; }

.pola {
  flex:0 0 auto; background:#fff; padding:13px 13px 58px;
  box-shadow:0 7px 22px rgba(14,30,20,.11);
  border-radius:2px; cursor:pointer; position:relative;
  transition:transform .4s var(--ease-spring), box-shadow .4s;
  scroll-snap-align:start; will-change:transform;
}
.pola::before {
  content:''; position:absolute; top:-8px; left:50%; transform:translateX(-50%) rotate(-1.5deg);
  width:65px; height:18px; background:rgba(174,206,186,.68);
  border:1px solid rgba(122,170,136,.45); border-radius:2px; box-shadow:0 1px 4px rgba(0,0,0,.06);
}
.pola:nth-child(1) { transform:rotate(-2.2deg); }
.pola:nth-child(2) { transform:rotate( 1.9deg); }
.pola:nth-child(3) { transform:rotate(-1.6deg); }
.pola:nth-child(4) { transform:rotate( 2.4deg); }
.pola:hover { transform:rotate(0) scale(1.06) translateY(-11px) !important; box-shadow:0 18px 45px rgba(14,30,20,.22),0 0 0 2.5px rgba(62,114,73,.25); z-index:15; }
.pola img { width:310px; height:250px; object-fit:cover; display:block; border-radius:1px; filter:saturate(1.05) contrast(1.02); transition:filter .4s; }
.pola:hover img { filter:saturate(1.15) contrast(1.06); }
.pcap { position:absolute; bottom:12px; left:0; right:0; text-align:center; font-family:'Dancing Script',cursive; font-size:1rem; color:var(--g7); padding:0 8px; font-weight:600; }

.dnote {
  padding:22px 30px;
  background:linear-gradient(135deg,rgba(174,206,186,.26),rgba(178,222,192,.18));
  border-left:3.5px solid var(--g5); border-radius:0 12px 12px 0;
  margin-bottom:14px; position:relative; overflow:hidden;
  transition:transform .3s var(--ease-spring), border-left-color .25s, box-shadow .3s;
  will-change:transform;
}
.dnote::before {
  content:'‚ú¶'; position:absolute; left:-9px; top:13px;
  font-size:1rem; color:var(--g5);
  animation:starTwinkle 3.5s ease-in-out infinite;
}
@keyframes starTwinkle { 0%,100% { opacity:.35; transform:scale(1) rotate(0); } 50% { opacity:1; transform:scale(1.5) rotate(28deg); } }
.dnote:hover { transform:translateX(7px); border-left-color:var(--g6); box-shadow:0 5px 18px rgba(30,68,48,.1); }
.nlbl { font-family:'Dancing Script',cursive; font-size:1.15rem; color:var(--g6); margin-bottom:9px; display:block; font-weight:600; }
.ntxt { font-size:1.2rem; line-height:1.9; color:var(--ink); font-family:'Lora',serif; }

/* ‚îÄ‚îÄ‚îÄ MEANING CARDS ‚îÄ‚îÄ‚îÄ */
.meaning-grid { display:flex; justify-content:center; align-items:center; gap:32px; margin:44px 0; flex-wrap:wrap; }
.meaning-card {
  background:linear-gradient(160deg,#eef6f0,#e2f0e8 50%,#d8ecdf);
  padding:48px 40px; border-radius:50%;
  text-align:center; border:3.5px solid rgba(62,114,73,.4);
  box-shadow:0 12px 38px rgba(30,68,48,.16),0 5px 15px rgba(62,114,73,.1),inset 0 2px 12px rgba(255,255,255,.88);
  transition:transform .4s var(--ease-spring), box-shadow .4s, background .4s, border-color .3s;
  width:310px; min-height:310px; height:auto;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  position:relative; overflow:hidden;
  will-change:transform;
}
/* Spinning border ring ‚Äî composited separately */
.meaning-card::before {
  content:''; position:absolute; top:50%; left:50%; width:200%; height:200%;
  transform:translate(-50%,-50%);
  background:conic-gradient(from 0deg,#568c62,#7aaa88,#aeceba,#568c62,#7aaa88,#aeceba,#568c62);
  border-radius:50%; z-index:0; opacity:0;
  animation:rotateBorder 7s linear infinite;
  transition:opacity .4s;
  filter:blur(7px);
  will-change:transform;
}
.meaning-card:hover::before { opacity:.5; }
@keyframes rotateBorder { to { transform:translate(-50%,-50%) rotate(360deg); } }
.meaning-card:hover {
  transform:translateY(-14px) scale(1.04);
  border-color:rgba(62,114,73,.7);
  box-shadow:0 28px 65px rgba(30,68,48,.24),0 12px 35px rgba(62,114,73,.18),inset 0 2px 18px rgba(255,255,255,.65);
}
.meaning-icon {
  font-size:3.5rem; margin-bottom:16px; display:inline-block;
  animation:iconBounce 3.5s ease-in-out infinite;
  filter:drop-shadow(0 4px 10px rgba(30,68,48,.28));
  position:relative; z-index:2; flex-shrink:0;
  will-change:transform;
}
.meaning-card:hover .meaning-icon { animation:iconSpinBounce 1.2s ease-in-out infinite; }
.meaning-card:nth-child(2) .meaning-icon { animation-delay:.5s; }
.meaning-card:nth-child(3) .meaning-icon { animation-delay:1s; }
@keyframes iconBounce { 0%,100% { transform:translateY(0) scale(1); } 50% { transform:translateY(-10px) scale(1.04); } }
@keyframes iconSpinBounce { 0%,100% { transform:rotate(0) scale(1) translateY(0); } 50% { transform:rotate(10deg) scale(1.1) translateY(-8px); } }
.meaning-card h4 {
  font-family:'Playfair Display',serif; font-size:1.4rem; font-weight:800;
  color:#0f2018; margin-bottom:11px; position:relative; z-index:2;
  text-shadow:0 1px 2px rgba(255,255,255,.5);
  transition:transform .3s var(--ease-spring);
}
.meaning-card:hover h4 { transform:scale(1.03); }
.meaning-card p {
  font-size:1rem; line-height:1.8; color:#1a3424;
  position:relative; z-index:2; font-family:'Lora',serif; font-weight:500;
  max-width:232px; transition:color .3s;
}
.meaning-card:hover p { color:#0d1f12; }

/* ‚îÄ‚îÄ‚îÄ QUOTE BOX ‚îÄ‚îÄ‚îÄ */
.quote-box {
  background:linear-gradient(135deg,rgba(249,247,240,.92),rgba(249,247,240,.75));
  border-left:4.5px solid #2d5a40; border-right:4.5px solid #3e7249;
  padding:34px 48px; margin:44px 0;
  position:relative; border-radius:7px;
  box-shadow:0 5px 18px rgba(30,68,48,.1);
  transition:transform .3s var(--ease-spring), box-shadow .3s;
  overflow:visible; will-change:transform;
}
.quote-box:hover { box-shadow:0 9px 28px rgba(30,68,48,.16); transform:translateY(-3px); }
.quote-box::before {
  content:'"'; position:absolute; top:-16px; left:16px;
  font-size:5.5rem; line-height:1; font-family:'Playfair Display',serif;
  color:#3e7249; opacity:.2; pointer-events:none;
}
.quote-text { font-family:'Lora',serif; font-size:1.5rem; color:var(--forest-dark); line-height:1.85; text-align:center; position:relative; z-index:1; font-style:italic; }

.callout {
  padding:20px 28px; margin:24px auto; max-width:820px;
  background:rgba(62,114,73,.14); border-left:4.5px solid #2d5a40; border-radius:0 10px 10px 0;
  font-family:'Lora',serif; font-size:1.22rem; line-height:1.9;
  color:var(--forest-dark); font-style:italic;
  transition:transform .3s var(--ease-spring), box-shadow .3s;
  will-change:transform;
}
.callout:hover { transform:translateX(6px); box-shadow:0 4px 16px rgba(30,68,48,.1); border-left-color:#3e7249; }

/* ‚îÄ‚îÄ‚îÄ FINAL PAGE ‚îÄ‚îÄ‚îÄ */
.cgrid { display:flex; flex-direction:column; gap:55px; margin:38px 0; }
.ccard {
  display:flex; flex-direction:column; gap:28px; padding:36px;
  background:linear-gradient(135deg,rgba(255,255,255,.62),rgba(249,247,240,.52));
  backdrop-filter:blur(10px); border-radius:18px;
  border:2.5px solid rgba(62,114,73,.18);
  box-shadow:0 8px 30px rgba(30,68,48,.11),inset 0 2px 6px rgba(255,255,255,.5);
  transition:transform .4s var(--ease-spring), box-shadow .4s, border-color .3s;
  position:relative; overflow:hidden; align-items:center;
  will-change:transform;
}
/* Corner flash on hover */
.ccard::after {
  content:''; position:absolute; top:0; right:0;
  width:0; height:0; border-style:solid;
  border-width:0; border-color:transparent rgba(62,114,73,.25) transparent transparent;
  transition:border-width .4s var(--ease-out-expo), opacity .4s; opacity:0;
}
.ccard:hover::after { border-width:0 62px 62px 0; opacity:1; }
.ccard:hover {
  transform:translateY(-9px) scale(1.01);
  box-shadow:0 26px 70px rgba(30,68,48,.2),0 10px 35px rgba(62,114,73,.15),inset 0 2px 10px rgba(255,255,255,.65);
  border-color:rgba(62,114,73,.35);
}
.ci {
  border-radius:12px; overflow:hidden; aspect-ratio:3/2;
  box-shadow:0 8px 26px rgba(30,68,48,.12),0 0 0 8px rgba(255,255,255,.8),0 0 0 10px rgba(62,114,73,.2);
  border:2.5px solid rgba(62,114,73,.32);
  max-height:380px; width:80%;
  transition:transform .5s var(--ease-spring), box-shadow .5s;
  will-change:transform;
}
.ccard:hover .ci {
  box-shadow:0 12px 40px rgba(30,68,48,.2),0 0 0 8px rgba(255,255,255,.88),0 0 0 10px rgba(62,114,73,.28);
  transform:scale(1.02);
}
.ccard:hover .ci img { transform:scale(1.06) rotate(-.4deg); filter:saturate(1.15) contrast(1.06); }
.ct { width:100%; max-width:800px; }
.ct p {
  font-size:1.22rem; line-height:2.05; color:var(--ink);
  margin-bottom:16px; font-family:'Lora',serif;
  transition:transform .35s var(--ease-out-expo), color .3s;
}
.ct p:last-child { margin-bottom:0; }
.ccard:hover .ct p { transform:translateX(5px); color:var(--forest-dark); }

/* ‚îÄ‚îÄ‚îÄ PAGE NAV ‚îÄ‚îÄ‚îÄ */
.page-nav {
  display:flex; justify-content:space-between; align-items:center;
  margin-top:52px; padding-top:32px;
  border-top:1.5px solid rgba(30,68,48,.22);
  position:relative; z-index:100;
}
.nav-btn {
  padding:10px 26px;
  background:linear-gradient(135deg,#2d5a40,#3e7249);
  color:#fff; font-weight:700; border-radius:50px;
  box-shadow:0 5px 14px rgba(30,68,48,.4);
  transition:transform .28s var(--ease-spring), box-shadow .28s;
  font-family:'Playfair Display',serif; font-size:.88rem;
  border:2px solid rgba(62,114,73,.55); cursor:pointer;
  position:relative; overflow:hidden; z-index:100;
  will-change:transform;
}
.nav-btn::after {
  content:''; position:absolute; inset:0;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);
  transform:translateX(-100%); transition:transform .4s var(--ease-out-expo);
  pointer-events:none;
}
.nav-btn:hover::after { transform:translateX(100%); }
.nav-btn:hover { transform:translateY(-3px); box-shadow:0 8px 20px rgba(30,68,48,.55); }
.nav-btn:active { transform:translateY(-1px); }
.nav-btn:focus { outline:3px solid rgba(201,169,97,.8); outline-offset:4px; }
.nav-btn.disabled { opacity:.3; pointer-events:none; }
.nav-btn.cover-btn { background:linear-gradient(135deg,#2d5a40,#1a3c28); border-color:rgba(201,169,97,.35); }

/* ‚îÄ‚îÄ‚îÄ PROGRESS DOTS ‚îÄ‚îÄ‚îÄ */
.prog { display:flex; align-items:center; justify-content:center; gap:10px; padding-top:18px; }
.pdot {
  width:8px; height:8px; border-radius:50%; cursor:pointer;
  background:rgba(30,68,48,.2); border:1.5px solid rgba(30,68,48,.28);
  transition:all .3s var(--ease-spring);
  will-change:transform;
}
.pdot:focus { outline:2px solid rgba(62,114,73,.6); outline-offset:3px; }
.pdot.on { width:24px; border-radius:4px; background:linear-gradient(90deg,#2d5a40,#3e7249); border-color:transparent; box-shadow:0 2px 8px rgba(30,68,48,.25); }
.pdot:hover:not(.on) { background:rgba(30,68,48,.38); transform:scale(1.35); }

/* ‚îÄ‚îÄ‚îÄ MISC ‚îÄ‚îÄ‚îÄ */
.rdiv { display:flex; align-items:center; gap:14px; margin:32px 0; opacity:.26; }
.rdiv::before,.rdiv::after { content:''; flex:1; height:1.5px; background:linear-gradient(90deg,transparent,#2d5a40,transparent); }
.sig { text-align:center; font-family:'Dancing Script',cursive; font-size:2.3rem; color:var(--forest-green); opacity:.7; margin:4px 0 32px; }
.dclouds { text-align:center; font-size:1.2rem; letter-spacing:16px; opacity:.24; margin:10px 0; animation:cloudWave 9s ease-in-out infinite; }
@keyframes cloudWave { 0%,100% { transform:translateY(0); opacity:.22; } 50% { transform:translateY(-5px); opacity:.42; } }

/* ‚îÄ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ‚îÄ */
.image-modal {
  position:fixed; inset:0;
  background:rgba(22,44,30,.96); backdrop-filter:blur(16px);
  display:flex; align-items:center; justify-content:center;
  opacity:0; pointer-events:none;
  transition:opacity .35s var(--ease-out-expo);
  z-index:1000;
}
.image-modal.active { opacity:1; pointer-events:auto; }
.image-modal img {
  max-width:92%; max-height:92%;
  box-shadow:0 30px 80px rgba(0,0,0,.75),0 0 0 14px #fff,0 0 0 16px rgba(62,114,73,.55);
  animation:modalZoom .45s var(--ease-spring);
  border-radius:7px; will-change:transform;
}
@keyframes modalZoom { from { opacity:0; transform:scale(.7) rotate(-5deg); } to { opacity:1; transform:scale(1) rotate(0); } }
.modal-close {
  position:absolute; top:28px; right:28px;
  width:46px; height:46px;
  background:rgba(255,255,255,.18); border:1.5px solid rgba(62,114,73,.65);
  border-radius:50%; display:flex; align-items:center; justify-content:center;
  font-size:1.6rem; color:#fff; cursor:pointer;
  transition:background .25s, transform .3s var(--ease-spring);
  backdrop-filter:blur(8px); z-index:1001; will-change:transform;
}
.modal-close:hover { background:rgba(62,114,73,.55); transform:rotate(90deg) scale(1.1); }
.modal-caption {
  position:absolute; bottom:22px; left:50%; transform:translateX(-50%);
  font-family:'Dancing Script',cursive; font-size:1.05rem;
  color:rgba(255,255,255,.82); text-align:center;
  background:rgba(0,0,0,.28); padding:5px 18px; border-radius:18px;
  backdrop-filter:blur(7px);
}

/* ‚îÄ‚îÄ‚îÄ SCROLL TOP ‚îÄ‚îÄ‚îÄ */
.scroll-top {
  position:fixed; bottom:34px; right:34px;
  width:50px; height:50px;
  background:linear-gradient(135deg,#2d5a40,#3e7249);
  border:2px solid rgba(255,255,255,.6); border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  font-size:1.5rem; cursor:pointer;
  box-shadow:0 8px 26px rgba(30,68,48,.5);
  transition:transform .3s var(--ease-spring), box-shadow .3s, opacity .3s;
  z-index:100; opacity:0; pointer-events:none; color:#fff;
  will-change:transform;
}
.scroll-top.visible { opacity:1; pointer-events:auto; }
.scroll-top:hover { transform:translateY(-6px) scale(1.1); box-shadow:0 14px 38px rgba(30,68,48,.7); }

/* ‚îÄ‚îÄ‚îÄ LOADER ‚îÄ‚îÄ‚îÄ */
.loading-spinner {
  position:fixed; top:50%; left:50%;
  width:70px; height:70px;
  border:4px solid rgba(62,114,73,.18); border-top-color:#2d5a40;
  border-radius:50%; animation:spinnerRotate 1s linear infinite;
  z-index:10000; display:none;
  will-change:transform;
}
.loading-spinner.active { display:block; }
.loading-spinner::after { content:'üåø'; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%) translateY(-1px); font-size:1.5rem; }
@keyframes spinnerRotate { to { transform:translate(-50%,-50%) rotate(360deg); } }

/* ‚îÄ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ‚îÄ */
@media(max-width:900px){
  .page{padding:55px 50px 90px;}
  .section-title{font-size:2.3rem;}
  .section-intro{font-size:1.08rem;}
  .meaning-grid{gap:22px;}
  .meaning-card{width:280px;min-height:280px;padding:34px 28px;}
  .meaning-card p{font-size:.92rem;max-width:205px;}
  .ct p{font-size:1.08rem;}
}
@media(max-width:768px){
  body{padding:18px 8px;}
  .book-cover{padding:40px 26px;border:5px solid rgba(30,68,48,.35);}
  .cover-title{font-size:3rem;}
  .cover-subtitle{font-size:1.55rem;}
  .page{padding:46px 20px 86px;border-left:26px solid rgba(30,68,48,.07);}
  .section-title{font-size:1.85rem;}
  .story-card{grid-template-columns:1fr !important;gap:22px;}
  .story-card:nth-child(even) .story-image{order:0;}
  .story-card:hover{transform:translateY(-5px) scale(1.006);}
  .journey-tabs{flex-direction:column;}
  .journey-tab{width:100%;}
  .meaning-grid{flex-direction:column;align-items:center;}
  .meaning-card{border-radius:18px;width:100%;max-width:360px;min-height:auto;padding:30px 24px;}
  .meaning-card p{max-width:100%;}
  .ci{width:90%;}
  .aarr{display:none;}
  .breadcrumb{top:auto;bottom:18px;left:50%;transform:translateX(-50%);font-size:.7rem;padding:4px 12px;max-width:calc(100vw - 36px);}
  .page-select-btn .ps-title{display:none;}
  .page-selector{gap:4px;padding:9px 6px;}
  .page-select-btn{min-width:52px;padding:6px 9px;}
  .home-btn{font-size:.74rem;padding:6px 11px;}
  .awrap::before,.awrap::after{display:none;}
}
@media(max-width:480px){
  .page{padding:34px 12px 76px;}
  .section-title{font-size:1.65rem;}
  .section-intro,.story-text,.ntxt,.ct p{font-size:.9rem;}
  .ct p{line-height:1.88;}
  .quote-box{padding:24px 16px;}
  .quote-text{font-size:1.1rem;}
  .callout{font-size:.95rem;padding:16px 18px;}
  .sig{font-size:1.9rem;}
  .cover-title{font-size:2.3rem;}
  .selector-divider{display:none;}
  .open-book-btn{font-size:.9rem;padding:11px 30px;}
  .page-number{font-size:1.05rem;bottom:16px;right:18px;}
  .quote-box::before{font-size:3.5rem;top:-10px;left:8px;}
}

/* Respect reduced motion */
@media(prefers-reduced-motion:reduce){
  *,*::before,*::after{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.15ms !important;}
  .nav-btn,.open-book-btn,.meaning-card,.story-card,.ccard{transition:opacity .2s,box-shadow .2s !important;}
}
</style>
</head>
<body>

<div class="sr-announce" aria-live="polite" aria-atomic="true" id="srAnnounce"></div>

<div class="progress-bar-container" id="progressBarContainer">
  <div class="progress-bar" id="progressBar"></div>
</div>

<a href="index.html" class="home-btn" aria-label="Quay v·ªÅ trang ch·ªß">
  üè† <span>Trang Ch·ªß</span>
</a>

<div class="breadcrumb" id="breadcrumb" role="navigation" aria-label="V·ªã tr√≠ hi·ªán t·∫°i">
  <span aria-hidden="true">üìñ</span>
  <span id="breadcrumbText">B√¨a s√°ch</span>
</div>

<div class="loading-spinner" id="loadingSpinner" role="status" aria-label="ƒêang t·∫£i..."></div>

<div class="book-container" id="bookContainer">

  <!-- ‚ïê‚ïê COVER ‚ïê‚ïê -->
  <div class="book-cover" id="bookCover">
    <div class="bookmark" aria-hidden="true"></div>
    <div class="ff-wrap" id="ffWrap" aria-hidden="true"></div>
    <div class="cover-content">
      <div class="cover-badge" aria-label="M·ªëc k·ª∑ ni·ªám th·ª© 5 tr√™n 6">‚ú¶ &nbsp;M·ªëc K·ª∑ Ni·ªám Th·ª© 5 / 6&nbsp; ‚ú¶</div>
      <div class="cover-icon" aria-hidden="true">üå≤</div>
      <h1 class="cover-title">NH·∫¨T K√ù ƒê√Ä L·∫†T</h1>
      <h2 class="cover-subtitle">D·∫•u ·∫•n kh√¥ng phai trong mi·ªÅn k√Ω ·ª©c l·ªõp 11L</h2>
      <p class="cover-quote">
        C√≥ nh·ªØng mi·ªÅn ƒë·∫•t ta ch·ªâ gh√© qua m·ªôt l·∫ßn trong ƒë·ªùi,<br>
        nh∆∞ng l·∫°i ·ªü l·∫°i r·∫•t l√¢u trong k√Ω ·ª©c...<br>
        ƒê√† L·∫°t c·ªßa l·ªõp 11L l√† m·ªôt mi·ªÅn nh∆∞ th·∫ø.
      </p>
      <button class="open-book-btn" id="openBookBtn" aria-label="M·ªü nh·∫≠t k√Ω ƒê√† L·∫°t">
        <span>üçÉ &nbsp;M·ªü Nh·∫≠t K√Ω&nbsp; üçÉ</span>
      </button>
    </div>
  </div>

  <!-- ‚ïê‚ïê PAGES ‚ïê‚ïê -->
  <div class="book-pages" id="bookPages" style="display:none;">

    <nav class="page-selector" role="navigation" aria-label="Ch·ªçn trang">
      <button class="page-select-btn active" data-page="1" aria-label="Trang 1: Mi·ªÅn K√Ω ·ª®c M·ªü Ra" aria-current="page">
        <span class="ps-icon" aria-hidden="true">üåø</span>
        <span class="ps-num">01</span>
        <span class="ps-title">K√Ω ·ª®c M·ªü Ra</span>
      </button>
      <span class="selector-divider" aria-hidden="true">‚Ä∫</span>
      <button class="page-select-btn" data-page="2" aria-label="Trang 2: √ù Nghƒ©a Chuy·∫øn ƒêi">
        <span class="ps-icon" aria-hidden="true">üìö</span>
        <span class="ps-num">02</span>
        <span class="ps-title">√ù Nghƒ©a</span>
      </button>
      <span class="selector-divider" aria-hidden="true">‚Ä∫</span>
      <button class="page-select-btn" data-page="3" aria-label="Trang 3: H√†nh Tr√¨nh Ba Ng√†y">
        <span class="ps-icon" aria-hidden="true">üìç</span>
        <span class="ps-num">03</span>
        <span class="ps-title">H√†nh Tr√¨nh</span>
      </button>
      <span class="selector-divider" aria-hidden="true">‚Ä∫</span>
      <button class="page-select-btn" data-page="4" aria-label="Trang 4: Mi·ªÅn K√Ω ·ª®c">
        <span class="ps-icon" aria-hidden="true">üå∏</span>
        <span class="ps-num">04</span>
        <span class="ps-title">Mi·ªÅn K√Ω ·ª®c</span>
      </button>
    </nav>

    <div class="prog" role="navigation" aria-label="ƒêi·ªÅu h∆∞·ªõng trang">
      <button class="pdot on" data-p="1" aria-label="Trang 1" aria-current="true"></button>
      <button class="pdot" data-p="2" aria-label="Trang 2"></button>
      <button class="pdot" data-p="3" aria-label="Trang 3"></button>
      <button class="pdot" data-p="4" aria-label="Trang 4"></button>
    </div>

    <!-- PAGE 1 -->
    <div class="page" id="page1" role="main">
      <div class="leaf-layer" id="lf1" aria-hidden="true"></div>
      <div class="page-content">
        <div class="dclouds" aria-hidden="true">‚òÅÔ∏è &nbsp;&nbsp; ‚òÅÔ∏è &nbsp;&nbsp;&nbsp;&nbsp; ‚òÅÔ∏è</div>
        <h3 class="section-title">
          <span class="title-icon" aria-hidden="true">üåø</span>
          <span class="title-text">Mi·ªÅn K√Ω ·ª®c M·ªü Ra</span>
        </h3>
        <p class="section-intro">
          C√≥ nh·ªØng mi·ªÅn ƒë·∫•t ta ch·ªâ gh√© qua m·ªôt l·∫ßn trong ƒë·ªùi, nh∆∞ng l·∫°i ·ªü l·∫°i r·∫•t l√¢u trong k√Ω ·ª©c.<br>
          ƒê√† L·∫°t c·ªßa l·ªõp 11L l√† m·ªôt mi·ªÅn nh∆∞ th·∫ø.
        </p>
        <div class="story-grid">
          <article class="story-card">
            <div class="story-image">
              <div class="stamp" aria-hidden="true">üèîÔ∏è</div>
              <img src="images/tongthe.jpg" alt="To√†n c·∫£nh th√†nh ph·ªë ƒê√† L·∫°t v·ªõi r·ª´ng th√¥ng xanh m√°t" loading="lazy">
            </div>
            <div class="story-text">
              <p>ƒê√≥ l√† n∆°i s∆∞∆°ng s·ªõm giƒÉng m·ªù tr√™n nh·ªØng tri·ªÅn ƒë·ªìi, n∆°i r·ª´ng th√¥ng th√¨ th·∫ßm trong gi√≥, n∆°i nh·ªãp s·ªëng ch·∫≠m r√£i m·ªü ra nh·ªØng kho·∫£ng l·∫∑ng hi·∫øm hoi gi·ªØa nh·ªØng ng√†y h·ªçc t·∫≠p v·ªôi v√£.</p>
            </div>
          </article>
          <article class="story-card">
            <div class="story-image">
              <div class="stamp" aria-hidden="true">üë•</div>
              <img src="images/tapthe.jpg" alt="T·∫≠p th·ªÉ h·ªçc sinh l·ªõp 11L t·∫°i ƒê√† L·∫°t" loading="lazy">
            </div>
            <div class="story-text">
              <p>ƒê√† L·∫°t kh√¥ng ch·ªâ hi·ªán l√™n trong v·∫ª ƒë·∫πp th∆° m·ªông c·ªßa ph·ªë n√∫i, m√† c√≤n l√† kh√¥ng gian c·ªßa tri th·ª©c, c·ªßa l·ªãch s·ª≠, c·ªßa nh·ªØng gi√° tr·ªã b·ªÅn b·ªâ ƒë∆∞·ª£c b·ªìi ƒë·∫Øp qua nƒÉm th√°ng.</p>
              <p>V√† trong m·ªôt kho·∫£nh kh·∫Øc r·∫•t ƒë·∫πp c·ªßa tu·ªïi h·ªçc tr√≤, l·ªõp 11L ƒë√£ ƒë·∫∑t d·∫•u ch√¢n m√¨nh l√™n mi·ªÅn ƒë·∫•t ·∫•y ‚Äì b·∫±ng t·∫•t c·∫£ s·ª± h√°o h·ª©c, trong veo v√† kh√°t khao kh√°m ph√°.</p>
            </div>
          </article>
        </div>
      </div>
      <div class="page-number" aria-label="Trang 1 tr√™n 4">~ Trang 1 ~</div>
      <nav class="page-nav" aria-label="ƒêi·ªÅu h∆∞·ªõng gi·ªØa c√°c trang">
        <button class="nav-btn cover-btn" onclick="closePage()" aria-label="Quay v·ªÅ b√¨a s√°ch">üå≤ V·ªÅ B√¨a S√°ch</button>
        <button class="nav-btn" onclick="turnPage(2)" aria-label="ƒê·∫øn trang 2">Trang sau ‚Üí</button>
      </nav>
    </div>

    <!-- PAGE 2 -->
    <div class="page" id="page2" style="display:none;" role="main">
      <div class="page-content">
        <h3 class="section-title">
          <span class="title-icon" aria-hidden="true">üå±</span>
          <span class="title-text">√ù Nghƒ©a C·ªßa M·ªôt Chuy·∫øn ƒêi</span>
        </h3>
        <p class="section-intro">Gi·ªØa nh·ªØng ti·∫øt h·ªçc n·ªëi ti·∫øp nhau, gi·ªØa nh·ªØng b√†i ki·ªÉm tra v√† √°p l·ª±c v√¥ h√¨nh, chuy·∫øn ƒëi ƒê√† L·∫°t ƒë·∫øn nh∆∞ m·ªôt kho·∫£ng th·ªü d·ªãu d√†ng.</p>
        <div class="callout">
          M·ªói ƒëi·ªÉm ƒë·∫øn ƒë·ªÅu l√† m·ªôt trang s√°ch s·ªëng ƒë·ªông.<br>
          M·ªói b∆∞·ªõc ch√¢n ƒë·ªÅu m·ªü ra m·ªôt b√†i h·ªçc kh√¥ng n·∫±m trong gi√°o tr√¨nh.
        </div>
        <div class="meaning-grid">
          <article class="meaning-card">
            <div class="meaning-icon" aria-hidden="true">üìö</div>
            <h4>Tri th·ª©c s·ªëng ƒë·ªông</h4>
            <p>T·ª´ thi√™n nhi√™n xanh m√°t ƒë·∫øn nh·ªØng c√¥ng tr√¨nh l·ªãch s·ª≠, tri th·ª©c kh√¥ng ch·ªâ n·∫±m trong trang v·ªü m√† c√≤n hi·ªán di·ªán trong t·ª´ng nh·ªãp s·ªëng c·ªßa ƒë·∫•t n∆∞·ªõc.</p>
          </article>
          <article class="meaning-card">
            <div class="meaning-icon" aria-hidden="true">üå≤</div>
            <h4>Kh√¥ng gian thi√™n nhi√™n</h4>
            <p>T·ª´ kh√¥ng gian h·ªçc thu·∫≠t ƒë·∫øn nh·ªØng g√≥c ph·ªë b√¨nh y√™n, t·∫•t c·∫£ gi√∫p ch√∫ng t√¥i hi·ªÉu r√µ h∆°n v·ªÅ nh·ªØng gi√° tr·ªã l·ªãch s·ª≠ v√† vƒÉn h√≥a c·ªßa cao nguy√™n L√¢m Vi√™n.</p>
          </article>
          <article class="meaning-card">
            <div class="meaning-icon" aria-hidden="true">üí´</div>
            <h4>G·∫Øn k·∫øt t√¨nh b·∫°n</h4>
            <p>Qua nh·ªØng b·ªØa ƒÉn gi·∫£n d·ªã, nh·ªØng kho·∫£nh kh·∫Øc c∆∞·ªùi ƒë√πa v√¥ t∆∞, ch√∫ng t√¥i h·ªçc c√°ch l·∫Øng nghe, th·∫•u hi·ªÉu v√† tr√¢n tr·ªçng nhau h∆°n.</p>
          </article>
        </div>
        <blockquote class="quote-box">
          <p class="quote-text">Quan tr·ªçng h∆°n c·∫£, chuy·∫øn ƒëi l√† s·ª£i d√¢y v√¥ h√¨nh k·∫øt n·ªëi nh·ªØng t√¢m h·ªìn tu·ªïi m∆∞·ªùi b·∫£y...</p>
        </blockquote>
      </div>
      <div class="page-number" aria-label="Trang 2 tr√™n 4">~ Trang 2 ~</div>
      <nav class="page-nav" aria-label="ƒêi·ªÅu h∆∞·ªõng">
        <button class="nav-btn" onclick="turnPage(1)">‚Üê Trang tr∆∞·ªõc</button>
        <button class="nav-btn" onclick="turnPage(3)">Trang sau ‚Üí</button>
      </nav>
    </div>

    <!-- PAGE 3 -->
    <div class="page" id="page3" style="display:none;" role="main">
      <div class="leaf-layer" id="lf3" aria-hidden="true"></div>
      <div class="page-content">
        <h3 class="section-title">
          <span class="title-icon" aria-hidden="true">üìç</span>
          <span class="title-text">H√†nh Tr√¨nh Ba Ng√†y ‚Äì M·ªôt Mi·ªÅn K√Ω ·ª®c</span>
        </h3>
        <div class="journey-tabs" role="tablist" aria-label="Ch·ªçn ng√†y trong h√†nh tr√¨nh">
          <button class="journey-tab active" data-day="day1" id="tab-day1" role="tab" aria-selected="true" aria-controls="day1">üóìÔ∏è Ng√†y 01</button>
          <button class="journey-tab" data-day="day2" id="tab-day2" role="tab" aria-selected="false" aria-controls="day2">üóìÔ∏è Ng√†y 02</button>
          <button class="journey-tab" data-day="day3" id="tab-day3" role="tab" aria-selected="false" aria-controls="day3">üóìÔ∏è Ng√†y 03</button>
        </div>
        <div id="day1" class="day-content active" role="tabpanel" aria-labelledby="tab-day1">
          <div class="awrap">
            <button class="aarr ap" data-album="album1" aria-label="Cu·ªôn sang tr√°i">‚Äπ</button>
            <div class="atrack" id="album1" role="region" aria-label="Album ·∫£nh ng√†y 1">
              <figure class="pola wide"><img src="images/lenxe.jpg" alt="H·ªçc sinh l·ªõp 11L l√™n xe kh·ªüi h√†nh" loading="lazy"><figcaption class="pcap">üöå Kh·ªüi h√†nh t·ª´ B√¨nh D∆∞∆°ng</figcaption></figure>
              <figure class="pola"><img src="images/truongdh.jpg" alt="Tr∆∞·ªùng ƒê·∫°i h·ªçc ƒê√† L·∫°t" loading="lazy"><figcaption class="pcap">üèõÔ∏è ƒêH ƒê√† L·∫°t</figcaption></figure>
              <figure class="pola"><img src="images/khachsan.jpg" alt="Kh√°ch s·∫°n n∆°i l∆∞u tr√∫" loading="lazy"><figcaption class="pcap">üè® Nh·∫≠n ph√≤ng</figcaption></figure>
            </div>
            <button class="aarr an" data-album="album1" aria-label="Cu·ªôn sang ph·∫£i">‚Ä∫</button>
          </div>
          <p class="scroll-hint" aria-hidden="true">‚Üê vu·ªët ƒë·ªÉ xem th√™m ‚Üí</p>
          <aside class="dnote">
            <span class="nlbl">‚òÄÔ∏è Ng√†y ƒë·∫ßu ti√™n ‚Äî Kh·ªüi h√†nh</span>
            <p class="ntxt">Sau ch·∫∑ng ƒë∆∞·ªùng d√†i t·ª´ B√¨nh D∆∞∆°ng, l·ªõp 11L b·∫Øt ƒë·∫ßu h√†nh tr√¨nh trong s·ª± h√°o h·ª©c v√† mong ch·ªù. ƒêi·ªÉm d·ª´ng ch√¢n ƒë·∫ßu ti√™n l√† Tr∆∞·ªùng ƒê·∫°i h·ªçc ƒê√† L·∫°t ‚Äì n∆°i tri th·ª©c v√† ki·∫øn tr√∫c giao h√≤a, gieo v√†o l√≤ng ch√∫ng t√¥i ni·ªÅm k√≠nh tr·ªçng ƒë·ªëi v·ªõi con ƒë∆∞·ªùng h·ªçc v·∫•n.</p>
          </aside>
        </div>
        <div id="day2" class="day-content" role="tabpanel" aria-labelledby="tab-day2">
          <div class="awrap">
            <button class="aarr ap" data-album="album2" aria-label="Cu·ªôn sang tr√°i">‚Äπ</button>
            <div class="atrack" id="album2" role="region" aria-label="Album ·∫£nh ng√†y 2">
              <figure class="pola wide"><img src="images/caugo.jpg" alt="C·∫ßu G·ªó v·ªõi bi·ªÉn m√¢y tr·∫Øng x√≥a" loading="lazy"><figcaption class="pcap">‚òÅÔ∏è Bi·ªÉn m√¢y C·∫ßu G·ªó</figcaption></figure>
              <figure class="pola"><img src="images/puppy.jpg" alt="Puppy Farm ƒê√† L·∫°t" loading="lazy"><figcaption class="pcap">üêï Puppy Farm</figcaption></figure>
              <figure class="pola"><img src="images/quangtruong.jpg" alt="Qu·∫£ng tr∆∞·ªùng L√¢m Vi√™n" loading="lazy"><figcaption class="pcap">üèôÔ∏è L√¢m Vi√™n</figcaption></figure>
            </div>
            <button class="aarr an" data-album="album2" aria-label="Cu·ªôn sang ph·∫£i">‚Ä∫</button>
          </div>
          <p class="scroll-hint" aria-hidden="true">‚Üê vu·ªët ƒë·ªÉ xem th√™m ‚Üí</p>
          <aside class="dnote">
            <span class="nlbl">‚òÅÔ∏è Ng√†y th·ª© hai ‚Äî Tr·∫£i nghi·ªám</span>
            <p class="ntxt">Bu·ªïi s√°ng, C·∫ßu G·ªó ƒë√≥n ch√∫ng t√¥i b·∫±ng bi·ªÉn m√¢y tr·∫Øng x√≥a, mang ƒë·∫øn c·∫£m gi√°c nh∆∞ ch·∫°m tay v√†o b·∫ßu tr·ªùi. T·∫°i Puppy Farm, ti·∫øng c∆∞·ªùi h√≤a c√πng √°nh n·∫Øng v√† nh·ªØng ch√∫ c√∫n nh·ªè, ƒë∆∞a ch√∫ng t√¥i tr·ªü v·ªÅ v·ªõi s·ª± h·ªìn nhi√™n thu·∫ßn khi·∫øt.</p>
          </aside>
        </div>
        <div id="day3" class="day-content" role="tabpanel" aria-labelledby="tab-day3">
          <div class="awrap">
            <button class="aarr ap" data-album="album3" aria-label="Cu·ªôn sang tr√°i">‚Äπ</button>
            <div class="atrack" id="album3" role="region" aria-label="Album ·∫£nh ng√†y 3">
              <figure class="pola"><img src="images/ansang.jpg" alt="B·ªØa ƒÉn s√°ng cu·ªëi c√πng t·∫°i ƒê√† L·∫°t" loading="lazy"><figcaption class="pcap">‚òï B·ªØa s√°ng cu·ªëi</figcaption></figure>
              <figure class="pola wide"><img src="images/dinh3.jpg" alt="Dinh III B·∫£o ƒê·∫°i" loading="lazy"><figcaption class="pcap">üèØ Dinh III</figcaption></figure>
              <figure class="pola"><img src="images/roidal.jpg" alt="Chia tay ƒê√† L·∫°t" loading="lazy"><figcaption class="pcap">üëã T·∫°m bi·ªát!</figcaption></figure>
            </div>
            <button class="aarr an" data-album="album3" aria-label="Cu·ªôn sang ph·∫£i">‚Ä∫</button>
          </div>
          <p class="scroll-hint" aria-hidden="true">‚Üê vu·ªët ƒë·ªÉ xem th√™m ‚Üí</p>
          <aside class="dnote">
            <span class="nlbl">üåÖ Ng√†y cu·ªëi ‚Äî T·∫°m bi·ªát</span>
            <p class="ntxt">Bu·ªïi s√°ng cu·ªëi c√πng tr√¥i qua ch·∫≠m r√£i trong s·ª± l∆∞u luy·∫øn kh√≥ g·ªçi t√™n. Dinh III ‚Äì Dinh B·∫£o ƒê·∫°i kh√©p l·∫°i h√†nh tr√¨nh b·∫±ng v·∫ª ƒë·∫πp tr·∫ßm m·∫∑c, c·ªï k√≠nh gi·ªØa r·ª´ng th√¥ng xanh m√°t. Khi b√°nh xe lƒÉn b√°nh, th√†nh ph·ªë d·∫ßn l√πi xa, nh∆∞ng k√Ω ·ª©c th√¨ ·ªü l·∫°i.</p>
          </aside>
        </div>
        <blockquote class="quote-box">
          <p class="quote-text">ƒê√≥ l√† m·ªôt ph·∫ßn thanh xu√¢n mang t√™n 11L...</p>
        </blockquote>
      </div>
      <div class="page-number" aria-label="Trang 3 tr√™n 4">~ Trang 3 ~</div>
      <nav class="page-nav" aria-label="ƒêi·ªÅu h∆∞·ªõng">
        <button class="nav-btn" onclick="turnPage(2)">‚Üê Trang tr∆∞·ªõc</button>
        <button class="nav-btn" onclick="turnPage(4)">Trang sau ‚Üí</button>
      </nav>
    </div>

    <!-- PAGE 4 -->
    <div class="page" id="page4" style="display:none;" role="main">
      <div class="page-content">
        <div class="dclouds" aria-hidden="true">‚òÅÔ∏è &nbsp;&nbsp; ‚òÅÔ∏è &nbsp;&nbsp;&nbsp; ‚òÅÔ∏è</div>
        <h3 class="section-title">
          <span class="title-icon" aria-hidden="true">üå∏</span>
          <span class="title-text">ƒê√† L·∫°t ‚Äì Mi·ªÅn K√Ω ·ª®c C·ªßa 11L</span>
        </h3>
        <div class="cgrid">
          <article class="ccard">
            <figure class="ci"><img src="images/final.jpg" alt="To√†n b·ªô h·ªçc sinh l·ªõp 11L t·∫°i ƒê√† L·∫°t" loading="lazy"></figure>
            <div class="ct">
              <p>Chuy·∫øn tham quan h·ªçc t·∫≠p t·∫°i ƒê√† L·∫°t kh√¥ng ch·ªâ mang ƒë·∫øn ki·∫øn th·ª©c v√† tr·∫£i nghi·ªám, m√† c√≤n ƒë√°nh d·∫•u m·ªôt ƒëo·∫°n ƒë·∫πp trong h√†nh tr√¨nh tr∆∞·ªüng th√†nh c·ªßa l·ªõp 11L.</p>
              <p>·ªû ƒë√≥, ch√∫ng t√¥i ƒë√£ c√πng nhau h·ªçc c√°ch s·ªëng ch·∫≠m, h·ªçc c√°ch l·∫Øng nghe, h·ªçc c√°ch tr√¢n tr·ªçng hi·ªán t·∫°i v√† h·ªçc c√°ch gi·ªØ g√¨n nh·ªØng ƒëi·ªÅu nh·ªè b√© nh∆∞ng qu√Ω gi√°.</p>
            </div>
          </article>
          <article class="ccard">
            <figure class="ci"><img src="images/memory.jpg" alt="Nh·ªØng kho·∫£nh kh·∫Øc ƒë√°ng nh·ªõ t·∫°i ƒê√† L·∫°t" loading="lazy"></figure>
            <div class="ct">
              <p>Nhi·ªÅu nƒÉm sau, khi nh·ªØng con ƒë∆∞·ªùng ƒë·ªùi ƒë√£ r·∫Ω sang nhi·ªÅu h∆∞·ªõng kh√°c nhau, c√≥ th·ªÉ ch√∫ng t√¥i s·∫Ω qu√™n ƒëi v√†i chi ti·∫øt nh·ªè, nh∆∞ng ch·∫Øc ch·∫Øn ƒê√† L·∫°t v·∫´n c√≤n ·ªü l·∫°i.</p>
              <p>Trong nh·ªØng b·ª©c ·∫£nh c≈©, trong nh·ªØng c√¢u chuy·ªán ƒë∆∞·ª£c k·ªÉ l·∫°i v√† trong m·ªôt g√≥c r·∫•t s√¢u c·ªßa k√Ω ·ª©c tu·ªïi h·ªçc tr√≤ ‚Äì n∆°i r·ª´ng th√¥ng v·∫´n m√£i xanh t∆∞∆°i.</p>
            </div>
          </article>
        </div>
        <blockquote class="quote-box">
          <p class="quote-text">B·ªüi ƒë√≥ kh√¥ng ch·ªâ l√† m·ªôt chuy·∫øn ƒëi, ƒë√≥ l√† m·ªôt ph·∫ßn thanh xu√¢n, ƒë√≥ l√† mi·ªÅn nh·ªõ mang t√™n l·ªõp 11L üå≤</p>
        </blockquote>
        <div class="rdiv" aria-hidden="true"><span>üå≤</span><span>‚òÅÔ∏è</span><span>üåø</span></div>
        <div class="sig" aria-label="K·∫øt th√∫c nh·∫≠t k√Ω">üå≤ ~ H·∫øt ~ üå≤</div>
      </div>
      <div class="page-number" aria-label="Trang 4 tr√™n 4">~ Trang 4 ~</div>
      <nav class="page-nav" aria-label="ƒêi·ªÅu h∆∞·ªõng">
        <button class="nav-btn" onclick="turnPage(3)">‚Üê Trang tr∆∞·ªõc</button>
        <button class="nav-btn cover-btn" onclick="closePage()">üçÉ ƒê√≥ng s√°ch</button>
      </nav>
    </div>

  </div><!-- /book-pages -->
</div><!-- /book-container -->

<div class="image-modal" id="imageModal" role="dialog" aria-modal="true" aria-label="Xem ·∫£nh ph√≥ng to">
  <button class="modal-close" onclick="closeModal()" aria-label="ƒê√≥ng ·∫£nh">√ó</button>
  <img id="modalImg" alt="">
  <div class="modal-caption" id="modalCaption"></div>
</div>

<button class="scroll-top" id="scrollTop" onclick="window.scrollTo({top:0,behavior:'smooth'})" aria-label="Cu·ªôn l√™n ƒë·∫ßu trang">‚Üë</button>

<script>
'use strict';

/* ‚îÄ‚îÄ State ‚îÄ‚îÄ */
let currentPage = 1;
let touchStartX = 0;

/* ‚îÄ‚îÄ Utils ‚îÄ‚îÄ */
const $ = id => document.getElementById(id);
const announce = msg => {
  const el = $('srAnnounce');
  el.textContent = '';
  requestAnimationFrame(() => { el.textContent = msg; });
};

const PAGE_TITLES = ['Mi·ªÅn K√Ω ·ª®c M·ªü Ra','√ù Nghƒ©a C·ªßa M·ªôt Chuy·∫øn ƒêi','H√†nh Tr√¨nh Ba Ng√†y','ƒê√† L·∫°t ‚Äì Mi·ªÅn K√Ω ·ª®c'];

function updateUI(pageNum) {
  // Breadcrumb
  const bc = $('breadcrumb');
  if (pageNum === 0) {
    $('breadcrumbText').textContent = 'B√¨a s√°ch';
    bc.classList.remove('visible');
  } else {
    $('breadcrumbText').textContent = `Trang ${pageNum}: ${PAGE_TITLES[pageNum-1]}`;
    bc.classList.add('visible');
  }
  // Selector
  document.querySelectorAll('.page-select-btn').forEach(btn => {
    const active = +btn.dataset.page === pageNum;
    btn.classList.toggle('active', active);
    btn.setAttribute('aria-current', active ? 'page' : 'false');
  });
  // Dots
  document.querySelectorAll('.pdot').forEach(d => {
    const active = +d.dataset.p === pageNum;
    d.classList.toggle('on', active);
    d.setAttribute('aria-current', active ? 'true' : 'false');
  });
}

/* ‚îÄ‚îÄ Progress bar ‚Äî rAF-based for smoothness ‚îÄ‚îÄ */
let rafId = null;
function runProgress() {
  const container = $('progressBarContainer');
  const bar = $('progressBar');
  let pct = 0;
  container.classList.add('active');
  bar.style.width = '0%';
  if (rafId) cancelAnimationFrame(rafId);
  const step = () => {
    pct = Math.min(pct + 4, 100);
    bar.style.width = pct + '%';
    if (pct < 100) { rafId = requestAnimationFrame(step); }
    else {
      setTimeout(() => {
        container.classList.remove('active');
        bar.style.width = '0%';
      }, 180);
    }
  };
  rafId = requestAnimationFrame(step);
}

/* ‚îÄ‚îÄ Cursor trail ‚Äî throttled via rAF ‚îÄ‚îÄ */
let trailScheduled = false;
let mouseX = 0, mouseY = 0;
document.addEventListener('mousemove', e => {
  mouseX = e.pageX; mouseY = e.pageY;
  if (!trailScheduled && Math.random() > 0.7) {
    trailScheduled = true;
    requestAnimationFrame(() => {
      trailScheduled = false;
      const t = document.createElement('div');
      t.className = 'cursor-trail';
      t.style.left = mouseX + 'px';
      t.style.top  = mouseY + 'px';
      document.body.appendChild(t);
      setTimeout(() => t.remove(), 600);
    });
  }
}, { passive: true });

/* ‚îÄ‚îÄ Fireflies ‚Äî minimal ‚îÄ‚îÄ */
function buildFireflies() {
  const w = $('ffWrap');
  const colors = ['rgba(62,114,73,.65)','rgba(62,114,73,.55)','rgba(142,200,230,.5)','rgba(174,206,186,.6)'];
  for (let i = 0; i < 18; i++) {
    const f = document.createElement('div');
    f.className = 'ff';
    const sz = 2 + Math.random() * 3.5;
    const col = colors[Math.floor(Math.random()*colors.length)];
    f.style.cssText = `width:${sz}px;height:${sz}px;left:${8+Math.random()*84}%;bottom:${5+Math.random()*40}%;background:${col};box-shadow:0 0 ${sz*2.2}px ${col};--dx:${(Math.random()-.5)*65}px;--dur:${3.5+Math.random()*4}s;--del:${Math.random()*6}s;`;
    w.appendChild(f);
  }
}

/* ‚îÄ‚îÄ Leaf particles ‚îÄ‚îÄ */
const LEAVES = ['üçÉ','üåø','üçÇ','üå±','üçÄ'];
function buildLeaves(id) {
  const el = $(id); if (!el) return;
  for (let i = 0; i < 8; i++) {
    const l = document.createElement('div');
    l.className = 'lf';
    const sz = 10 + Math.random()*7;
    l.textContent = LEAVES[i % LEAVES.length];
    l.style.cssText = `left:${Math.random()*95}%;bottom:${Math.random()*16}%;--lsz:${sz}px;--ldur:${5+Math.random()*5.5}s;--ldel:${Math.random()*8}s;--lx:${(Math.random()-.5)*80}px;`;
    el.appendChild(l);
  }
}

/* ‚îÄ‚îÄ Open book ‚îÄ‚îÄ */
$('openBookBtn').addEventListener('click', function(e) {
  e.preventDefault(); e.stopPropagation();
  if (this.dataset.busy === '1') return;
  this.dataset.busy = '1';

  const cover = $('bookCover');
  const pages = $('bookPages');

  cover.style.display = "none";
  pages.style.display = "block";
  pages.style.opacity = "0";
  pages.style.transform = "translateY(14px)";
  pages.style.transition = "opacity .38s var(--ease-out-expo), transform .38s var(--ease-out-expo)";
  $("page1").style.display = "block";
  currentPage = 1;
  updateUI(1);
  announce("ƒê√£ m·ªü nh·∫≠t k√Ω. Trang 1: Mi·ªÅn K√Ω ·ª®c M·ªü Ra");
  this.dataset.busy = "0";
  window.scrollTo({ top: 0, behavior: "smooth" });
  requestAnimationFrame(() => requestAnimationFrame(() => {
    pages.style.opacity = "1";
    pages.style.transform = "translateY(0)";
    setTimeout(() => { pages.style.transition = pages.style.opacity = pages.style.transform = ""; }, 420);
  }));
});

/* ‚îÄ‚îÄ Page turn ‚îÄ‚îÄ */
function turnPage(n) {
  if (n < 1 || n > 4 || currentPage === n) return;
  $('loadingSpinner').classList.add('active');
  runProgress();
  const prev = currentPage;
  currentPage = n;
  setTimeout(() => {
    $('page' + prev).style.display = 'none';
    const target = $('page' + n);
    target.style.display = 'block';
    // Retrigger animation
    target.style.animation = 'none';
    target.offsetHeight; // reflow
    target.style.animation = '';
    updateUI(n);
    announce(`Trang ${n}: ${PAGE_TITLES[n-1]}`);
    $('loadingSpinner').classList.remove('active');
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }, 320);
}

function closePage() {
  $('loadingSpinner').classList.add('active');
  runProgress();
  setTimeout(() => {
    $('bookPages').style.display = 'none';
    $('page' + currentPage).style.display = 'none';
    $('bookCover').style.display = 'block';
    $('loadingSpinner').classList.remove('active');
    updateUI(0);
    announce('Quay v·ªÅ b√¨a s√°ch');
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }, 300);
}

/* ‚îÄ‚îÄ Tabs ‚îÄ‚îÄ */
document.querySelectorAll('.journey-tab').forEach(tab => {
  const activate = () => {
    document.querySelectorAll('.journey-tab').forEach(t => { t.classList.remove('active'); t.setAttribute('aria-selected','false'); });
    document.querySelectorAll('.day-content').forEach(c => c.classList.remove('active'));
    tab.classList.add('active'); tab.setAttribute('aria-selected','true');
    $(tab.dataset.day).classList.add('active');
    announce(tab.textContent.trim());
  };
  tab.addEventListener('click', activate);
  tab.addEventListener('keydown', e => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); activate(); } });
});

/* ‚îÄ‚îÄ Dot nav ‚îÄ‚îÄ */
document.querySelectorAll('.pdot').forEach(d => {
  d.addEventListener('click', () => turnPage(+d.dataset.p));
  d.addEventListener('keydown', e => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); turnPage(+d.dataset.p); } });
});

/* ‚îÄ‚îÄ Selector ‚îÄ‚îÄ */
document.querySelectorAll('.page-select-btn').forEach(btn => {
  btn.addEventListener('click', () => turnPage(+btn.dataset.page));
  btn.addEventListener('keydown', e => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); turnPage(+btn.dataset.page); } });
});

/* ‚îÄ‚îÄ Arrow scroll ‚îÄ‚îÄ */
document.addEventListener('click', e => {
  const arrow = e.target.closest('.aarr');
  if (!arrow) return;
  const album = $(arrow.dataset.album);
  album.scrollBy({ left: arrow.classList.contains('ap') ? -340 : 340, behavior: 'smooth' });
});

/* ‚îÄ‚îÄ Touch swipe ‚îÄ‚îÄ */
const pages_el = $('bookPages');
pages_el.addEventListener('touchstart', e => { touchStartX = e.changedTouches[0].screenX; }, { passive: true });
pages_el.addEventListener('touchend', e => {
  const diff = touchStartX - e.changedTouches[0].screenX;
  if (Math.abs(diff) > 50) {
    if (diff > 0 && currentPage < 4) turnPage(currentPage + 1);
    else if (diff < 0 && currentPage > 1) turnPage(currentPage - 1);
  }
}, { passive: true });

/* ‚îÄ‚îÄ Album drag ‚îÄ‚îÄ */
document.querySelectorAll('.atrack').forEach(album => {
  let isDown = false, startX = 0, scrollLeft = 0;
  album.addEventListener('mousedown', e => { isDown = true; startX = e.pageX - album.offsetLeft; scrollLeft = album.scrollLeft; album.style.cursor = 'grabbing'; });
  album.addEventListener('mouseleave', () => { isDown = false; album.style.cursor = 'grab'; });
  album.addEventListener('mouseup',    () => { isDown = false; album.style.cursor = 'grab'; });
  album.addEventListener('mousemove', e => {
    if (!isDown) return; e.preventDefault();
    album.scrollLeft = scrollLeft - (e.pageX - album.offsetLeft - startX) * 2.5;
  });
});

/* ‚îÄ‚îÄ Modal ‚îÄ‚îÄ */
const modal = $('imageModal');
function openModal(img) {
  modal.classList.add('active');
  $('modalImg').src = img.src;
  $('modalImg').alt = img.alt;
  $('modalCaption').textContent = img.alt || '';
  document.body.style.overflow = 'hidden';
}
function closeModal() {
  modal.classList.remove('active');
  document.body.style.overflow = '';
}
document.querySelectorAll('.pola img,.story-image img,.ci img').forEach(img => {
  img.addEventListener('click', e => { e.stopPropagation(); openModal(img); });
});
modal.addEventListener('click', e => { if (e.target === modal) closeModal(); });

/* ‚îÄ‚îÄ Keyboard ‚îÄ‚îÄ */
document.addEventListener('keydown', e => {
  if (e.key === 'Escape') { closeModal(); return; }
  if (modal.classList.contains('active')) return;
  if ($('bookPages').style.display !== 'block') return;
  if (e.key === 'ArrowRight' && currentPage < 4) turnPage(currentPage + 1);
  if (e.key === 'ArrowLeft'  && currentPage > 1) turnPage(currentPage - 1);
});

/* ‚îÄ‚îÄ Scroll top ‚îÄ‚îÄ */
const scrollTopBtn = $('scrollTop');
window.addEventListener('scroll', () => { scrollTopBtn.classList.toggle('visible', window.scrollY > 280); }, { passive: true });

/* ‚îÄ‚îÄ IntersectionObserver ‚Äî reveal on scroll ‚îÄ‚îÄ */
const revealObs = new IntersectionObserver(entries => {
  entries.forEach(e => {
    if (e.isIntersecting) {
      e.target.style.opacity = '1';
      e.target.style.transform = 'translateY(0)';
      revealObs.unobserve(e.target);
    }
  });
}, { threshold: .06, rootMargin: '0px 0px -30px 0px' });

document.querySelectorAll('.story-card,.meaning-card,.pola,.dnote,.quote-box,.callout,.ccard').forEach((el, i) => {
  el.style.opacity = '0';
  el.style.transform = 'translateY(24px)';
  el.style.transition = `opacity .6s var(--ease-out-expo) ${i * .05}s, transform .6s var(--ease-out-expo) ${i * .05}s`;
  revealObs.observe(el);
});

/* ‚îÄ‚îÄ Image loading ‚îÄ‚îÄ */
function markLoaded(img) {
  if (img.complete && img.naturalWidth > 0) { img.classList.add('loaded'); }
  else {
    img.addEventListener('load',  () => img.classList.add('loaded'), { once: true });
    img.addEventListener('error', () => { img.classList.add('loaded'); img.style.opacity = '.3'; }, { once: true });
  }
}

/* ‚îÄ‚îÄ Init ‚îÄ‚îÄ */
window.addEventListener('load', () => {
  buildFireflies();
  buildLeaves('lf1');
  buildLeaves('lf3');
  document.querySelectorAll('img').forEach(markLoaded);
});
</script>
</body>
</html>
